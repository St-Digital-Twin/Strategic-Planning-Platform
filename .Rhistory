fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label')
fig <- fig %>% add_pie(hole = 0.6)
fig <- fig %>% layout(showlegend = F,
xaxis = list(showgrid = TRUE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
fig
fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label')
fig <- fig %>% add_pie(hole = 0.6)
fig <- fig %>% layout(showlegend = F,
xaxis = list(showgrid = TRUE, zeroline = TRUE, showticklabels = TRUE),
yaxis = list(showgrid = TRUE, zeroline = TRUE, showticklabels = TRUE))
fig
fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label') %>%
add_pie(hole = 0.1) %>%
layout(showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
fig
fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label') %>%
add_pie(hole = 0.5) %>%
layout(showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
fig
fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label') %>%
add_pie(hole = 0.5) %>%
layout(showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE)) %>%
layout(plot_bgcolor = '#343a40') %>%
layout(paper_bgcolor = '#343a40') %>%
layout(font = t) %>%
layout(legend = list(
orientation = "h",y = -0.25,
bgcolor  = '#343a40'))  %>%
layout(xaxis = list(gridcolor = '#6c757d'),
yaxis = list(gridcolor = '#6c757d'))
fig
fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label') %>%
add_pie(hole = 0.5) %>%
layout(showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE)) %>%
layout(plot_bgcolor = '#343a40') %>%
layout(paper_bgcolor = '#343a40') %>%
layout(font = t)
fig
# Shiny - Приложение. Визуализация работы всего кода
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
source('5.R/3.UIFunc.R', encoding = 'UTF-8')
source('visnetwork_fun.R', encoding = 'UTF-8')
source('server.R',encoding = 'UTF-8')
translete <- as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
melt(id.vars = c("Key","Remark"))
source('ui.R',  encoding = 'UTF-8')
# translete <-as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
#   melt(id.vars = c("Key","Remark"))
# 6. Shiny                            ####
shinyApp(ui, server)
# Shiny - Приложение. Визуализация работы всего кода
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
source('5.R/3.UIFunc.R', encoding = 'UTF-8')
source('visnetwork_fun.R', encoding = 'UTF-8')
source('server.R',encoding = 'UTF-8')
translete <- as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
melt(id.vars = c("Key","Remark"))
source('ui.R',  encoding = 'UTF-8')
# translete <-as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
#   melt(id.vars = c("Key","Remark"))
# 6. Shiny                            ####
shinyApp(ui, server)
getwd()
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
getwd()
getwd()
getwd()
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
path1 <- "view_in_shiny_like_files"
settings_grah <- read_delim("Rmddata.csv") %>% select(-1)
settings_grah <- read_delim("1.Data/Rmddata.csv") %>% select(-1)
settings_grah
settings_grah
settings_grah
View(settings_grah)
quotesForecast <- quotesForecast(openxlsx::read.xlsx(paste0("1.Data/",path1,"/",settings_grah$file)) %>% as.data.table())
modelCreation <- modelCreation(quotesForecast)$model_data
write.xlsx(modelCreation, "1.Data/tempdata2.xlsx")
p <- graphCor(data = "1.Data/tempdata2.xlsx", targets = FALSE,
x_gr = settings_grah$x_gr,
y_gr = settings_grah$y_gr,
str_year = settings_grah$str_year,
end_year = settings_grah$end_year) %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p1 <- graphCor(data = "1.Data/tempdata2.xlsx", targets = FALSE,
x_gr = settings_grah$x_gr2,
y_gr = settings_grah$y_gr2,
str_year = settings_grah$str_year2,
end_year = settings_grah$end_year2) %>%
layout(
images = list(
source = base64enc::dataURI(file = '15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p
p1 <- graphCor(data = "1.Data/tempdata2.xlsx", targets = FALSE,
x_gr = settings_grah$x_gr2,
y_gr = settings_grah$y_gr2,
str_year = settings_grah$str_year2,
end_year = settings_grah$end_year2) %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
x_gr
x_gr = settings_grah$x_gr2
settings_grah$y_gr2
graphCor(data = "1.Data/tempdata2.xlsx", targets = FALSE,
x_gr = settings_grah$x_gr2,
y_gr = settings_grah$y_gr2,
str_year = settings_grah$str_year2,
end_year = settings_grah$end_year2)
p
p <- modelGraph(data = "1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year)$curve %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p1 <- modelGraph(data ="1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year)$graph_cols %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p
p1
p
p1
htmlTable(read.xlsx("1.Data/tempdata2.xlsx") %>% filter(month == 12) %>% select(-month),rnames=FALSE, align="lllllllllll", align.header="lllllllllll",
css.header = c(rep("padding-left: 1em; font-family: Panton", 11)),
css.cell   = c(rep("padding-left: 1em; font-family: Panton", 11)))
knit2html("testrmd.Rmd", options = "")
k <- read.xlsx("1.Data/tempdata2.xlsx")
test <- cor(k[,3:8]) %>%
as.data.frame() %>%
rownames_to_column() %>%
as.data.table() %>%
melt(is.vars = c("rowname")) %>%
.[rowname != variable] %>%
.[,par := paste0(rowname,"-",variable)] %>%
.[,c("par","value")] %>%
distinct(value,.keep_all = TRUE)
fig <- test %>% plot_ly(labels = ~par, values = ~value,textinfo='label') %>%
add_pie(hole = 0.5) %>%
layout(showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE)) %>%
layout(plot_bgcolor = '#343a40') %>%
layout(paper_bgcolor = '#343a40') %>%
layout(font = t)
p <- graphCor(data = "1.Data/tempdata2.xlsx", targets = FALSE,
x_gr = settings_grah$x_gr,
y_gr = settings_grah$y_gr,
str_year = settings_grah$str_year,
end_year = settings_grah$end_year) %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p
fig
p <- marketDataGraph(data = "1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year)$curve %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p <- marketDataGraph(data = "1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year) %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p1 <- modelGraph(data ="1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year)$graph_cols %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p
p1 <- modelGraph(data ="1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year)$graph_cols %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p1
input$alko
p <- marketDataGraph(data = "1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year,
vec_indic = c("methanol", 'Algorithm 1')) %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
k
k
View(k)
p <- marketDataGraph(data = "1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year,
vec_indic = c("methanol", 'model')) %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p1 <- modelGraph(data ="1.Data/tempdata2.xlsx", targets = FALSE,
str_year = settings_grah$model_year,
end_year = settings_grah$model_end_year)$graph_cols %>%
layout(
images = list(
source = base64enc::dataURI(file = '6.Pic/15.png'),
x = 0.82, y = 1.05 ,
sizex = 0.18, sizey = 0.1,
xref = "paper", yref = "paper",
xanchor = "left", yanchor = "bottom"
),
margin = list(t = 50)
)
p
tinytex::install_tinytex()
knit2html("testrmd.Rmd", options = "")
rmarkdown::render()
rmarkdown::render("testrmd.Rmd")
send.mail(from = "<nikbrown35@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : ",input$nd_file),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
# Shiny - Приложение. Визуализация работы всего кода
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
source('5.R/3.UIFunc.R', encoding = 'UTF-8')
source('visnetwork_fun.R', encoding = 'UTF-8')
source('server.R',encoding = 'UTF-8')
translete <- as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
melt(id.vars = c("Key","Remark"))
source('ui.R',  encoding = 'UTF-8')
# translete <-as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
#   melt(id.vars = c("Key","Remark"))
# 6. Shiny                            ####
shinyApp(ui, server)
# Shiny - Приложение. Визуализация работы всего кода
source('5.R/2.EuroChemFunc.R', encoding = 'UTF-8')
source('5.R/3.UIFunc.R', encoding = 'UTF-8')
source('visnetwork_fun.R', encoding = 'UTF-8')
source('server.R',encoding = 'UTF-8')
translete <- as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
melt(id.vars = c("Key","Remark"))
source('ui.R',  encoding = 'UTF-8')
# translete <-as.data.table(read.xlsx("1.Data/208_dt_asset_en(updated).xlsx",sheet = "Teb")) %>%
#   melt(id.vars = c("Key","Remark"))
# 6. Shiny                            ####
shinyApp(ui, server)
reqipient <- nikbrown35@gmail.com
reqipient <- "nikbrown35@gmail.com"
send.mail(from = "<nikbrown35@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : ",input$nd_file),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
send.mail(from = "<nikbrown35@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : "),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : "),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
library(mailR)
knit2html("testrmd.Rmd",options="")
knit2html("testrmd.Rmd",options="")
knit("testrmd.Rmd", output = NULL)
knit("testrmd.Rmd", output = NULL)
knit("testrmd.Rmd", output = NULL)
knit("testrmd.Rmd")
knit2html("testrmd.Rmd")
knit2html("testrmd.md")
knit2html("testrmd.md")
knit2html("testrmd.rmd")
install.packages('knitr', repos = c('http://rforge.net', 'http://cran.rstudio.org'),
type = 'source')
install.packages("knitr", repos = c("http://rforge.net", "http://cran.rstudio.org"), type = "source")
remove.packages("knitr", lib="~/R/win-library/4.1")
install.packages("knitr", repos = c("http://rforge.net", "http://cran.rstudio.org"), type = "source")
install.packages("knitr", repos = c("http://rforge.net", "http://cran.rstudio.org"), type = "source")
install.packages("knitr", repos = c("http://rforge.net", "http://cran.rstudio.org"), type = "source")
install.packages("knitr", repos = c("http://rforge.net", "http://cran.rstudio.org"), type = "source")
knit2html("testrmd.rmd")
library(knitr)
knit2html("testrmd.rmd")
remove.packages("markdown", lib="~/R/win-library/4.1")
install.packages("markdown")
install.packages("markdown")
knit2html("testrmd.rmd")
library(knitr)
knit2html("testrmd.rmd")
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : ",input$nd_file),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : "),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
knit2html("testrmd.rmd",options = "")
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : "),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
markdownToHTML("testrmd.rmd",
output="testrmd.html",
options=c("toc", "use_xhtml", "smartypants", "mathjax", "highlight_code"))
markdownToHTML("testrmd.rmd",
output="testrmd.html",
options=c("toc", "use_xhtml", "smartypants", "mathjax", "highlight_code"))
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : ",input$nd_file),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : "),
body = "testrmd.html",
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
knit2html("testrmd.rmd",options = "")
send.mail(from = "<dtwin496@gmail.com>",
to = paste0("<",reqipient,">"),
subject = paste0("Report on file : "),
html = TRUE,
inline = TRUE,
smtp = list(host.name = "smtp.gmail.com",
port = 465,
user.name = "dtwin496@gmail.com",
passwd = "cfdocpmuldwewwhq",
ssl = TRUE),
authenticate = TRUE,
encoding = "utf-8")
remove.packages("mailR", lib="~/R/win-library/4.1")
install.packages("mailR")
install.packages("mailR")
library(mailR)
version
