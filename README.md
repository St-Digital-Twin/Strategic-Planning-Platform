# О програмной разработке

Проект является реализацией **тестового примера** по прогнозированию цен на метанол для иллюстрации программных возможностей Платформы Стратегического Планирования компании [Цифровой Двойник](openbook.dtwin.ru), с использованием экосистемы открытого кода [R project](https://www.r-project.org/).

Тестовый пример является стартовой точкой для постепенного разворачивания (наращивания) платформы исходными данными и программными функциями стратегического планирования. 

**Платформа стратегического планирования** предназначена для использования органами управления и планово-аналитическими службами предприятия при подготовке и принятии управленческих решений в 
сфере развития, в том числе в форме инвестиционной деятельности.

Платформа стратегического планирования - это единый информационно-моделирующий комплекс методического, математического, информационного и программного обеспечений,
используемый для совершенствования процесса подготовки и корректровки
инвестиционных решений на всех стадиях жизненного цикла инвестиционных
проектов:

-   мониторинга, анализа и долгосрочного прогнозирования поведения
    **рынков**
-   мониторинга, анализа, оценки и планирования развития 
    **предприятия**
-   подготовки, обоснования и мониторинга результативности реализации
    **инвестиционных проектов**
-   подготовки, обоснования и мониторинга результативности
    **портфеля** инвестиционных проектов

## Цели и задачи 

**Целью** создания Платформы является повышение результативности и эффективности
использования инвестицинных ресурсов, в условиях высокой волатильновати и непредсказуемости поведения рынков.

### Задачами Платформы являются

-   **Мониторинг рынков** готовой продукции и сырья предприятия, а также факторов, оказывающих на их стоимость и объемы потребления, значительное влияние
-   **Оценка и анализ проектов** инвестиционных решений предприятия
-   **Управление портфелем** инвестиционных проектов предприятия
-   Повышение адаптивности, гибкости и целостности управленческих инструментов для решения вышеуказанных задач (переход к "многопользовательскому Excel" или моделе-ориентированной архитектуре управления).

Более детальное описание платформы приведено в он-лайн книге "Платформа Стратегического Планирования".
    
### Задачи тестового примера

Задачами Тестового примера является демонстрация:

- инструментальных возможностей Платформы
  + пользовательского интерфейса [R Shiny](https://shiny.rstudio.com/)
  + конвейера обработки данных [R Targets](https://books.ropensci.org/targets/)
  + визуализации потоков с помощью графов [R VisNetwork](https://datastorm-open.github.io/visNetwork/)
  + построителя гибких отчетов [R Markdown](https://rmarkdown.rstudio.com/)
- базовых операций функции прогнозирования цены на готовую продукцию (метанол), с использованием пользовательской модели (алгоритма реализованного в исходном Excel), в том числе:
  + Сделать загрузку исходных данных в "облако" (конвеер)
  + Сделать минимальную обработку данных по алгоритму прогнозирования цены
  + Сделать визуализацию полученных результатов

## Инструкция по запуску тестового примера

1. Скачать и установить [интерпертатор языка программирования R](https://cran.r-project.org/) для соответствующей операционной системы.
2. Скачать и установить [R-studio Desktop](https://www.rstudio.com/products/rstudio/)
3. Запустить установленное приложение R Studio
4. Скачать на рабочую станцию проект  [DigitalTwin.SPP](https://github.com/St-Digital-Twin/Strategic-Planning-Platform) - нажав на зеленую кнопку "Code" и выбрав в раскрывающемся меню "Download ZIP".
5. Распаковать архив "Strategic-Planning-Platform-main.zip"
6. Зайти в папку "Strategic-Planning-Platform-main"
7. Дваждый кликнуть на файл DigitalTwin.SPP.Rproj и дождаться открытия программы R studio
8. В программе R studio, в главном меню открыть "File" - "Open file...", затем перейти в папку "3.Shiny" и открыть файл shiny_global.R
9. После открытия файла, в открывшемся окне программного кода нажать "CTRL + A", а затем "CTRL + Enter". 
10. Дождаться автоматической установки библиотек и запуска приложения

## Содержание программного проекта

В корневой папке содержится следующие 

- файлы
  + **README.md** - текущий файл с инструкцией
  + **style.css** - файл с настройками html-страниц
  + **global.r**  - файл с командами ручного запуска узлов конвейера (не обязательный)
  + **targets.R** - файл с декларацией узлов конвейера
  + **targets.yaml** - файл технический
- папки
  + **_targets**  - техническая папка с результатами расчета каждого узла конвеера и метаданными
  + **1.Data**    - папка с наборами данных и документов
  + **2.Targets** - зарезервированная папка для масштабирования узлов
  + **3.Shiny**   - папка с основными скриптами пользовательского приложения на R Shiny
  + **4.Docs**    - папка с документами, описывающие платформу 
  + **5.R**       - папка с расчетными функциями
  + **6.Pic**     - папка с изображениями, в том числе сохраняемых диаграмм
  
### Содержимое папки Shiny

Папка Shiny содержит следующие файлы:

- **server.r**          - функции сервера приложений, включая создание реактивных (изменяемых в ходе пользовательского сеанса) переменных, вывод на пользовательские элементы информации, отслеживание изменений пользовательского интерфейса (реакций на действие пользователя)
- **shiny_global.r**    - подготовка основных конфигурация и запуск приложения shiny.r
- **ui.r**              - лист с набором визуальных элементов пользовательского интерфейса
- **visnetwork_fun.r**  - функции отображения графов исходя из состояния конвеера и записке в файле конфигурационных настроек сети конвеера (1.Data/2.shiny/coords.xlsx)

### Содержимое папки R

Папка R содержит следующие файлы:

- **1.libraries.r**       - перечень всех используемых в проекте библиотек R
- **2.2.EuroChemFunc.R**  - пользовательские функции, полученные из файла "MethModel 1.01.xlsx", необходимые для прогнозирования рынков
- **4.DT.Model/2.R/Stat.R** - отдельностоящий скрипт с 3-мя альтернативными алгоритмами (моделями) прогнозирования цены на метанол, с использованием МГК метода. Пока не представлены в основном Shiny приложении 

### Содержимое папки 4.Docs
- **1.FR.SPS.v3.docx** - файл с типовым техническим заданием на Платформу Стратегического Планирования
- **DT. SPP v3 30.08.2022.pdf** - презентация Тестового примера и Платформы

## Учебные курсы по экосистеме R project

Платформа стратегического планирования расширяет возможности для планово-аналитических служб, использованием инструментов Data Science для поддержки принятия управленческих решений.

Для постепенного вхождения в использование R для задач стратегического планирования рекомендуются пройти он-лайн курсы: 

- [Уроки по R для пользователей Excel](https://www.youtube.com/watch?v=wFUoaeGEMmY&list=PLD2LDq8edf4pgGg16wYMobvIYy_0MI0kF)

## Требования к аппаратному обеспечению

### Системные требования для разворачивания тестового примера:
1 персональный компьютер со следующими характеристиками:
  - Процессор: intel i5+ или amd ryzen 5+ 
  - Оперативная память: 8+ Гб
  - Жесткий диск: HDD 100+ Мб
  - Операционная система: Linux, Windows, Mac OS
  - Програмное обеспечение: R, R Studio

### Системные требования для разворачивания Платформы
3 физических сервера со следующими характеристиками:
  - Процессор: intel i7+ или amd ryzen 5+ 
  - Оперативная память: 128+ Гб
  - Жесткий диск: SSD 512+ Гб, HDD 3+ Тб
  - Операционная система: Linux
  - Програмное обеспечение: R, R Studio, Терминал доступа

## Краткая справка о разработке

Платформа стратегического планирования
**Strategic Planning Platform**

Функционал "Рыночное влияние"
Функция "Прогнозирование рынков. Прогноз цен."
Пример решения задачи прогнозирования цены метанола

Заказчик: «Еврохи́м»(EuroChem Group A)
www.eurochemgroup.com

Разработчик: ООО "Цифровой Двойник"
Дата разработки 29.08.2022

сайт:   https://the-digital-twin.com/
e-mail: Info@dtwin.ru 
